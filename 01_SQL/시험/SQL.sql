
CREATE USER c##SQL IDENTIFIED BY SQL;


GRANT CONNECT, RESOURCE TO c##SQL;

ALTER USER c##SQL DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;



CREATE TABLE TEACHER(
TEACHER_ID NUMBER PRIMARY KEY,
NAME VARCHAR2(20), 
EMAIL VARCHAR2(30) UNIQUE,
HIRE_DATE DATE,
SUBJECT VARCHAR2(30)
);

COMMENT ON COLUMN TEACHER.TEACHER_ID IS '강사 고유번호' ;
COMMENT ON COLUMN TEACHER.NAME IS '강사 이름';
COMMENT ON COLUMN TEACHER.EMAIL IS '이메일';
COMMENT ON COLUMN TEACHER.HIRE_DATE IS '입사일';
COMMENT ON COLUMN TEACHER.SUBJECT IS '전공 분야';

DROP TABLE TEACHER
WHERE TEACHER_ID = 1;

UPDATE TEACHER SET NAME='수학선생';
INSERT INTO TEACHER VALUES(2, '국어선생' , '211111' , '22/11/11' , '국어');
INSERT INTO TEACHER VALUES(3, '영어선생' , '311111' , '33/11/11' , '영어');
INSERT INTO TEACHER VALUES(4, '사회선생' , '411111' , '44/11/11' , '사회');
INSERT INTO TEACHER VALUES(5, '과학선생' , '511111' , '55/11/11' , '과학');




CREATE TABLE LECTURE(
LECTURE_ID NUMBER PRIMARY KEY,
TITLE VARCHAR2(20), 
TEACHER_ID NUMBER REFERENCES TEACHER,
INDEX_COUNT NUMBER,
CATEGORY  VARCHAR2(30),
START_DATE DATE,
END_DATE DATE
);

COMMENT ON COLUMN LECTURE.LECTURE_ID IS '강의 고유번호';
COMMENT ON COLUMN LECTURE.TITLE IS '강의 제목';
COMMENT ON COLUMN LECTURE.TEACHER_ID IS '강의 담당 강사의ID';
COMMENT ON COLUMN LECTURE.INDEX_COUNT IS '수강인원';
COMMENT ON COLUMN LECTURE.CATEGORY IS '강의 분류';
COMMENT ON COLUMN LECTURE.START_DATE IS '강의 시작일';
COMMENT ON COLUMN LECTURE.END_DATE IS '강의 종료일';

INSERT INTO LECTURE VALUES(1, '수학수업' , 1 , 30 , '수학강의', '11/11/11' ,'11/11/30' );
INSERT INTO LECTURE VALUES(2, '국어수업' , 2 , 40 , '국어강의', '22/11/11' ,'22/11/30' );
INSERT INTO LECTURE VALUES(3, '영어수업' , 3 , 50 , '영어강의', '33/11/11' ,'33/11/30' );
INSERT INTO LECTURE VALUES(4, '사회수업' , 4 , 60 , '사회강의', '44/11/11' ,'44/11/30' );
INSERT INTO LECTURE VALUES(5, '과학수업' , 5 , 70 , '과학강의', '55/11/11' ,'55/11/30' );



DROP TABLE STUDENT;
CREATE TABLE STUDENT(
STUDENT_ID NUMBER PRIMARY KEY,
NAME VARCHAR2(20), 
GRADE NUMBER ,
EMAIL VARCHAR2(30),
JOIN_DATE DATE
);

COMMENT ON COLUMN STUDENT.STUDENT_ID IS '수강생 고유번호';
COMMENT ON COLUMN STUDENT.NAME IS '수강생 이름';
COMMENT ON COLUMN STUDENT.GRADE IS '학년 또는 수강 등급';
COMMENT ON COLUMN STUDENT.EMAIL IS '수강생 이메일';
COMMENT ON COLUMN STUDENT.JOIN_DATE IS '등록일';

INSERT INTO STUDENT VALUES(1 , '수학학생' , 1 , '12345' , '11/11/11');
INSERT INTO STUDENT VALUES(2 , '국어학생' , 2 , '23456' , '22/11/11');
INSERT INTO STUDENT VALUES(3 , '영어학생' , 3 , '34567' , '33/11/11');
INSERT INTO STUDENT VALUES(4 , '사회학생' , 4 , '45678' , '44/11/11');
INSERT INTO STUDENT VALUES(5 , '과학학생' , 5 , '56789' , '55/11/11');

DROP TABLE ENROLLMENT;

CREATE TABLE ENROLLMENT(
ENROLL_ID  NUMBER PRIMARY KEY,
STUDENT_ID NUMBER REFERENCES STUDENT, 
LECTURE_ID NUMBER REFERENCES LECTURE,
ENROLL_DATE DATE,
STATUS CHAR(1) CHECK(STATUS IN('Y','N')),
GRADE_SCORE NUMBER DEFAULT NULL
);

COMMENT ON COLUMN ENROLLMENT.ENROLL_ID IS '수강기록 고유번호';
COMMENT ON COLUMN ENROLLMENT.STUDENT_ID IS '수강생 ID';
COMMENT ON COLUMN ENROLLMENT.LECTURE_ID IS '강의 ID';
COMMENT ON COLUMN ENROLLMENT.ENROLL_DATE IS '수수강 등록일';
COMMENT ON COLUMN ENROLLMENT.STATUS IS '수강 상태';
COMMENT ON COLUMN ENROLLMENT.GRADE_SCORE IS '성적 점수';

INSERT INTO ENROLLMENT VALUES(1 , 1 , 1 , '11/11/11' , 'Y' , 85 );
INSERT INTO ENROLLMENT VALUES(2 , 2 , 2 , '22/11/11' , 'Y' , 70 );
INSERT INTO ENROLLMENT VALUES(3 , 3 , 3 , '33/11/11' , 'N' , 80 );
INSERT INTO ENROLLMENT VALUES(4 , 4 , 4 , '44/11/11' , 'N' , 90 );
INSERT INTO ENROLLMENT VALUES(5 , 5 , 5 , '55/11/11' , 'N' , 95 );























