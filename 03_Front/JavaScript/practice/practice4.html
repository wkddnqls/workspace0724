<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <fieldset style="width: 100%; height: 500px;">
   <legend>회원가입</legend>
     <!-- 아이디 -->
        <div style="display: flex; gap: 3px;">
            <label for="userid">아이디:</label>
            <input type="text" id="userid" name="userid" placeholder="아이디 입력">
          <div id="idMessage"></div> 
        </div>
       
        <br>

        <!-- 비밀번호 -->
        <div>
            <label for="password">비밀번호:</label>
            <input type="password" id="password" name="password" placeholder="비밀번호 입력">
        </div>
        <br>

        <!-- 비밀번호 확인 -->
        <div>
            <label for="passwordConfirm">비밀번호 확인:</label>
            <input type="password" id="passwordConfirm" name="passwordConfirm" placeholder="비밀번호 확인">
        </div>
        <div id="idMessage2"></div>
        <br>
        
        <div>
            <label for="userName">이름 :</label>
            <input type="text" id="userName" name="userName3" placeholder="이름 확인">
        </div>
        

        <!-- 회원가입 버튼 -->
        <div>
            <button type="button" id="signupBtn" onclick="go()">회원가입</button>
        </div>



    </fieldset>

<script>
    const password = document.getElementById("password"); // 저장된 아이디
    const passwordConfirm = document.getElementById("passwordConfirm");
    const idMessage2 = document.getElementById("idMessage2");

  
     passwordConfirm.addEventListener("input",text2); 
    
     function text2(){
      if(password.value === passwordConfirm.value) {
            idMessage2.textContent = "비밀번호가 일치합니다 "; // 입력 없으면 메시지 제거
             idMessage2.style.color = "green";
        } else if(password.value != passwordConfirm.value) {
            idMessage2.textContent = "비밀번호가 일치하지않습니다";
            idMessage2.style.color = "red";
        } 
    }


   const savedUserId = "user01"; // 저장된 아이디
    const useridInput = document.getElementById("userid");
    const idMessage = document.getElementById("idMessage");

    useridInput.addEventListener("input",text1);
    
    function text1(){
      if(useridInput.value === "") {
            idMessage.textContent = ""; // 입력 없으면 메시지 제거
        } else if(useridInput.value === savedUserId) {
            idMessage.textContent = "이미 존재하는 아이디입니다.";
            idMessage.style.color = "red";
        } else {
            idMessage.textContent = "사용 가능한 아이디입니다.";
            idMessage.style.color = "green";
        }
    }


  function go(){
      const userName1 = userName.value.trim();
        const userid1 = userid.value.trim();
        const pw = password.value;
        const pwConfirm = passwordConfirm.value;
   
    if(userName1 === "") {
            alert("이름을 입력해주세요");
            userName.focus();
            return;
        }
        if(userid1 === "") {
            alert("아이디를 입력해주세요");
            userid.focus();
            return;
        }
        if(pw === "") {
            alert("비밀번호를 입력해주세요");
            password.focus();
            return;
        }
        if(pwConfirm === "") {
            alert("비밀번호 확인을 입력해주세요");
            passwordConfirm.focus();
            return;
        }

        // 2. 아이디 중복 체크
        if(userid === savedUserId) {
            alert("사용할 수 없는 아이디입니다.");
            useridInput.value = "";
            useridInput.focus();
            idMessage.textContent = "";
            return;
        }

        // 3. 비밀번호 일치 확인
        if(pw !== pwConfirm) {
            alert("비밀번호가 일치하지 않습니다.");
            passwordConfirm.value = "";
            passwordConfirm.focus();
            pwMessage.textContent = "";
            return;
        }

        // 4. 모든 조건 통과 → 성공
        alert(`${userName.value}님, 회원가입이 성공적으로 완료되었습니다^^`);

        // 입력 초기화
        userName.value = "";
        userid.value = "";
        password.value = "";
        passwordConfirm.value = "";
        idMessage.textContent = "";
        idMessage2.textContent = "";
    };
  












</script>





</body>
</html>